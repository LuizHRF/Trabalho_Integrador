{"ast":null,"code":"var _jsxFileName = \"/home/gabrielli/Trabalho_Integrador/Projeto/frontend/src/components/Gerenciar_Interesses/StackInteresseAlteracao.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport Stack from '@mui/material/Stack';\nimport axios from \"axios\";\nimport TextField from '@mui/material/TextField';\nimport { Button } from \"@mui/material\";\nimport Snackbar from '@mui/material/Snackbar';\nimport Alert from '@mui/material/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StackInteresseAlteracao(props) {\n  _s();\n  const [contato, setContato] = React.useState(props.row.contato);\n  const [qtd_pax, setQtd_pax] = React.useState(props.row.qtd_passageiros);\n  const interesseId = props.row.id;\n  const [openMessage, setOpenMessage] = React.useState(false);\n  const [messageText, setMessageText] = React.useState(\"\");\n  const [messageSeverity, setMessageSeverity] = React.useState(\"success\");\n  function clearForm() {\n    setContato(\"\");\n    setQtd_pax(\"\");\n  }\n  async function handleSubmit() {\n    const token = localStorage.getItem(\"token\");\n    try {\n      await axios.put(\"/alterInteresse\", {\n        contato: contato,\n        pax: qtd_pax,\n        id: interesseId\n      }, {\n        headers: {\n          Authorization: `bearer ${token}`\n        }\n      });\n      setMessageText(\"Interesse alterado com sucesso!\");\n      setMessageSeverity(\"success\");\n      clearForm(); // limpa o formulário apenas se cadastrado com sucesso\n    } catch (error) {\n      console.log(error);\n      setMessageText(\"Falha na alteração do interesse\");\n      setMessageSeverity(\"error\");\n    } finally {\n      setOpenMessage(true);\n    }\n  }\n  function handleCloseMessage(_, reason) {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setOpenMessage(false);\n  }\n  function handleCancelClick() {\n    setMessageText(\"Alteração de interesse cancelada!\");\n    setMessageSeverity(\"warning\");\n    setOpenMessage(true);\n    clearForm();\n  }\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    spacing: 2,\n    children: [\"Contato:\", /*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      size: \"small\",\n      label: \"Contato\",\n      variant: \"outlined\",\n      onChange: e => setContato(e.target.value),\n      value: contato\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), \"Quantidade de passageiros:\", /*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      size: \"small\",\n      label: \"Passageiros\",\n      variant: \"outlined\",\n      onChange: e => setQtd_pax(e.target.value),\n      value: qtd_pax\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      style: props.estilo,\n      onClick: handleSubmit,\n      children: \"Enviar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      style: props.estilo,\n      onClick: handleCancelClick,\n      children: \"Cancelar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: openMessage,\n      autoHideDuration: 6000,\n      onClose: handleCloseMessage,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: messageSeverity,\n        onClose: handleCloseMessage,\n        children: messageText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n_s(StackInteresseAlteracao, \"cmsqq5burYhID7vo4L+HZ/CIj7A=\");\n_c = StackInteresseAlteracao;\nvar _c;\n$RefreshReg$(_c, \"StackInteresseAlteracao\");","map":{"version":3,"names":["React","Stack","axios","TextField","Button","Snackbar","Alert","jsxDEV","_jsxDEV","StackInteresseAlteracao","props","_s","contato","setContato","useState","row","qtd_pax","setQtd_pax","qtd_passageiros","interesseId","id","openMessage","setOpenMessage","messageText","setMessageText","messageSeverity","setMessageSeverity","clearForm","handleSubmit","token","localStorage","getItem","put","pax","headers","Authorization","error","console","log","handleCloseMessage","_","reason","handleCancelClick","spacing","children","fullWidth","size","label","variant","onChange","e","target","value","fileName","_jsxFileName","lineNumber","columnNumber","style","estilo","onClick","open","autoHideDuration","onClose","severity","_c","$RefreshReg$"],"sources":["/home/gabrielli/Trabalho_Integrador/Projeto/frontend/src/components/Gerenciar_Interesses/StackInteresseAlteracao.jsx"],"sourcesContent":["import React from \"react\";\nimport Stack from '@mui/material/Stack';\nimport axios from \"axios\";\n\nimport TextField from '@mui/material/TextField';\nimport { Button } from \"@mui/material\";\n\nimport Snackbar from '@mui/material/Snackbar';\nimport Alert from '@mui/material/Alert';\n\nexport default function StackInteresseAlteracao(props){\n\n    const [contato, setContato] = React.useState(props.row.contato);\n    const [qtd_pax, setQtd_pax] = React.useState(props.row.qtd_passageiros);\n    const interesseId = props.row.id;\n\n    const [openMessage, setOpenMessage] = React.useState(false);\n    const [messageText, setMessageText] = React.useState(\"\");\n    const [messageSeverity, setMessageSeverity] = React.useState(\"success\");\n\n    function clearForm() {\n        setContato(\"\");\n        setQtd_pax(\"\");\n        }\n\n    async function handleSubmit() {\n            const token = localStorage.getItem(\"token\");\n            try {\n                await axios.put(\"/alterInteresse\", {\n                    contato: contato,\n                    pax: qtd_pax,\n                    id : interesseId,\n                }, { headers: { Authorization: `bearer ${token}`,},});\n                setMessageText(\"Interesse alterado com sucesso!\");\n                setMessageSeverity(\"success\");\n                clearForm(); // limpa o formulário apenas se cadastrado com sucesso\n            } catch (error) {\n                console.log(error);\n                setMessageText(\"Falha na alteração do interesse\");\n                setMessageSeverity(\"error\");\n            } finally {\n                setOpenMessage(true);\n            }\n        \n    }\n\n    function handleCloseMessage(_, reason) {\n        if (reason === \"clickaway\") {\n            return;\n        }\n        setOpenMessage(false);\n    } \n\n    function handleCancelClick() {\n        \n        setMessageText(\"Alteração de interesse cancelada!\");\n        setMessageSeverity(\"warning\");\n        setOpenMessage(true);\n        \n        clearForm();\n    }\n\n    return(\n        <Stack spacing={2}>\n            Contato:\n            <TextField fullWidth size=\"small\" label=\"Contato\" variant=\"outlined\" onChange={(e) => setContato(e.target.value)} value={contato}/>\n            Quantidade de passageiros:\n            <TextField fullWidth size=\"small\" label=\"Passageiros\" variant=\"outlined\" onChange={(e) => setQtd_pax(e.target.value)} value={qtd_pax}/>\n\n            <Button variant=\"contained\" style={props.estilo} onClick={handleSubmit}>Enviar</Button>\n            <Button variant=\"contained\" style={props.estilo} onClick={handleCancelClick}>Cancelar</Button>\n            <Snackbar open={openMessage} autoHideDuration={6000} onClose={handleCloseMessage}>\n                <Alert severity={messageSeverity} onClose={handleCloseMessage}>\n                  {messageText}\n                </Alert>\n              </Snackbar>\n\n        </Stack>)\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}